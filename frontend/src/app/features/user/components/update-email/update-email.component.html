<form [formGroup]="emailForm" (ngSubmit)="onUpdateEmail()">

  <div class="mb-3">
    <label class="form-label text-muted small text-uppercase fw-bold">Current Email Address</label>
    <div class="form-control-plaintext fw-bold px-2">
      {{ currentEmail }}
    </div>
  </div>

  <div class="mb-3">
    <label for="newEmail" class="form-label fw-bold">New Email Address</label>
    <input
      type="email"
      id="newEmail"
      class="form-control"
      formControlName="newEmail"
      placeholder="Enter new email address"
      [class.is-invalid]="emailForm.get('newEmail')?.invalid && emailForm.get('newEmail')?.touched"
    />

    @if (emailForm.get('newEmail')?.errors?.['required'] && emailForm.get('newEmail')?.touched) {
      <div class="invalid-feedback">Email is required.</div>
    }
    @if (emailForm.get('newEmail')?.errors?.['email'] && emailForm.get('newEmail')?.touched) {
      <div class="invalid-feedback">Please enter a valid email address.</div>
    }
  </div>

  <div class="d-grid">
    <button
      type="submit"
      class="btn btn-primary"
      [disabled]="emailForm.invalid">
      Update Email
    </button>
  </div>
</form>
